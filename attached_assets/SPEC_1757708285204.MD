Bien s√ªr ‚Äî voici la **version enti√®rement mise √† jour de la sp√©cification SGC-AgentOne**, int√©grant **le th√®me SGC-Commander** extrait de votre fichier `Theme_SGC-Commender.md`, avec une **coh√©rence visuelle totale**, des **classes CSS Claymorphism**, des **couleurs HSL exactes**, des **ic√¥nes FontAwesome**, et une **exp√©rience multi-modalit√© compl√®te** ‚Äî tout cela **dans le format Markdown structur√©**, pr√™t √† √™tre lu par votre agent IA pour g√©n√©rer l‚Äôinterface VS Code avec un design professionnel, tactile et immersive.

---

# ‚úÖ SGC-AgentOne ‚Äî Sp√©cification Technique avec Th√®me SGC-Commander (Claymorphism)

> **Objectif** : G√©n√©rer int√©gralement la solution SGC-AgentOne avec son interface VS Code **exactement stylis√©e selon le th√®me SGC-Commander**.  
> **Contraintes** : Chemins relatifs uniquement. Z√©ro d√©pendance externe. SQLite embarqu√©e. Mode Blind-Exec contr√¥l√©. Th√®me **SGC-Commander int√©gr√© en natif**.  
> **R√®gle fondamentale** : TOUT doit √™tre g√©n√©r√© dans un dossier racine projet nomm√© `.`. Aucun chemin absolu n‚Äôest autoris√©.  
> **Design** : Utiliser exclusivement les couleurs HSL, effets Claymorphism, polices et comportements d√©crits dans `Theme_SGC-Commender.md`.

---

## üî¢ Fichiers √† g√©n√©rer ‚Äî Tableau complet (avec int√©gration du th√®me SGC-Commander)

| N¬∞ | Chemin relatif | Type | Description | R√®gles d'ex√©cution / Comportement | D√©pendances | Notes |
|----|----------------|------|-------------|----------------------------------|-------------|-------|
| 1 | `sgc-agentone/core/server.php` | PHP | Serveur HTTP principal. √âcoute sur `127.0.0.1:8081`. | Utilise `getcwd()` comme racine. Redirige toutes les requ√™tes non-statiques vers `/api/chat`. Ne jamais utiliser `__DIR__` ou chemins absolus. | PHP 8.1+ int√©gr√© | Si `settings.json` d√©finit un autre port, l‚Äôutiliser. |
| 2 | `sgc-agentone/core/api/chat.php` | PHP | Endpoint REST pour les messages utilisateur. | Attend un JSON : `{ "message": "...", "projectPath": ".", "blind": false }`. Appelle `interpreter.php`, puis les actions. Loggue dans `logs/chat.log` et `logs/actions.log`. Retourne JSON : `{ "response": "...", "actions": [...] }`. | `interpreter.php`, `config/rules.json`, `config/settings.json`, `logs/` | Si `"blind": true`, v√©rifie `enabled.txt` et `whitelist.json` avant toute action. |
| 3 | `sgc-agentone/core/agents/interpreter.php` | PHP | Traduit le langage naturel en commandes internes. | Mappe les phrases comme *"cr√©e un fichier"* ‚Üí `"create file"`. Supporte variantes linguistiques (fr/en). Retourne : `[action: "create file", params: { filename: "...", content: "..." }]`. | `config/rules.json` | Utiliser des regex simples ou `strpos()`/`str_contains()`. Pas d‚ÄôIA externe. |
| 4 | `sgc-agentone/core/agents/actions/createFile.php` | PHP | Cr√©e un fichier avec contenu optionnel. | V√©rifie que `filename` est dans `projectPath`. Cr√©e les dossiers parents si n√©cessaire. Utilise `file_put_contents()`. Refuse les chemins contenant `..` ou `/`. | Aucune | Si le fichier existe d√©j√†, le remplacer. |
| 5 | `sgc-agentone/core/agents/actions/updateFile.php` | PHP | Remplace le contenu d‚Äôun fichier existant. | V√©rifie que le fichier existe. Si non, retourne erreur. | Aucune | Ne pas cr√©er automatiquement. |
| 6 | `sgc-agentone/core/agents/actions/readFile.php` | PHP | Lit un fichier et renvoie son contenu. | Retourne `{ "content": "..." }` dans la r√©ponse JSON. Limiter √† 500 caract√®res pour les logs. | Aucune | Bloquer l‚Äôacc√®s aux fichiers `.env`, `.git`, `sgc-agentone/` sauf demande explicite. |
| 7 | `sgc-agentone/core/agents/actions/createDB.php` | PHP | Cr√©e le fichier SQLite `app.db` s‚Äôil n‚Äôexiste pas. | Cr√©e le dossier `db/` si absent. Cr√©e `db/app.db` vide avec `touch()` ou `fopen(..., 'w')`. | Aucune | Doit √™tre ex√©cut√© au d√©marrage si absent. |
| 8 | `sgc-agentone/core/agents/actions/executeQuery.php` | PHP | Ex√©cute une requ√™te SQL sur `db/app.db`. | Ouvre PDO avec `sqlite:./sgc-agentone/db/app.db`. Accepte `CREATE`, `INSERT`, `SELECT`, `UPDATE`. Refuse `DROP`, `ALTER`, `DELETE` sauf whitelist. | `db/app.db` | Retourne `{ success: true, result: [...] }` ou `{ error: "..." }`. |
| 9 | `sgc-agentone/core/db/app.db` | SQLite DB | Base de donn√©es embarqu√©e. | DOIT √™tre cr√©√©e automatiquement par `createDB.php`. Vide au d√©part. | Aucune | Ne jamais √©diter manuellement. G√©r√©e uniquement via `executeQuery.php`. |
| 10 | `sgc-agentone/core/config/rules.json` | JSON | Dictionnaire de correspondance phrase ‚Üí commande. | Format : `[ { "pattern": "cr√©e un fichier", "action": "create file" }, ... ]`. Minimum 10 entr√©es en fran√ßais/anglais. | Aucune | Inclure : ‚Äúcr√©er‚Äù, ‚Äúg√©n√©rer‚Äù, ‚Äúajouter‚Äù, ‚Äúmodifier‚Äù, ‚Äúsupprimer‚Äù, ‚Äúlire‚Äù, ‚Äúconnecter √† la base‚Äù. |
| 11 | `sgc-agentone/core/config/settings.json` | JSON | Param√®tres globaux du serveur. | Contenu : `{ "port": 8081, "blind_exec_enabled": false, "project_root": "." }`. Toujours `project_root: "."`. | Aucune | L‚ÄôIA doit lire ce fichier au d√©marrage du serveur. |
| 12 | `sgc-agentone/core/config/whitelist.json` | JSON | Actions autoris√©es en mode Blind-Exec. | Format : `[ "create file", "update file", "read file", "execute query", "create dir" ]`. Toute autre action est bloqu√©e m√™me en blind. | Aucune | Ajouter une action ici = l‚Äôautoriser en aveugle. |
| 13 | `sgc-agentone/core/tools/blind-exec/enabled.txt` | Texte | Drapeau actif/inactif du mode Blind-Exec. | Contient `"true"` ou `"false"`. Si absent, consid√©r√© comme `"false"`. | Aucune | L‚ÄôIA ne doit JAMAIS modifier ce fichier. C‚Äôest une d√©cision humaine. |
| 14 | `sgc-agentone/core/logs/chat.log` | Log texte | Historique des conversations. | Format : `[YYYY-MM-DD HH:MM:SS] USER: "..." | AI: "..."`. Ajouter √† chaque r√©ponse. | Aucune | Ne pas effacer. Permet la tra√ßabilit√©. |
| 15 | `sgc-agentone/core/logs/actions.log` | Log texte | Historique des modifications de fichiers. | Format : `[YYYY-MM-DD HH:MM:SS] ACTION: create file | FILE: public/index.html | CONTENT: [truncated]`. Limiter le contenu √† 500 caract√®res. | Aucune | Inclure le type d‚Äôaction, le fichier, et un extrait du contenu. |
| 16 | `sgc-agentone/core/templates/html/page.html` | Template HTML | Mod√®le de page web minimaliste. | Variables : `{{TITLE}}`, `{{CONTENT}}`. Remplac√©es dynamiquement. | Aucune | Pas de CDN. Tout doit √™tre inline ou local. |
| 17 | `sgc-agentone/core/templates/css/style.css` | Template CSS | Style CSS de base. | Peut contenir des commentaires. L‚ÄôIA peut ajouter du contenu apr√®s. | Aucune | Ne pas supprimer s‚Äôil existe d√©j√† ‚Äî compl√©ter seulement. |
| 18 | `sgc-agentone/core/templates/js/script.js` | Template JS | Script JavaScript pur (vanilla). | Variables : `{{COMMENT}}`, `{{CODE}}`. Injecter le code JS dans le bloc. | Aucune | Interdire `import`, `require`, `fetch` hors localhost. |
| 19 | `sgc-agentone/core/templates/json/config.json` | Template JSON | Fichier de configuration typique. | Variables : `{{APP_NAME}}`, `{{DB_PATH}}`. Remplacer dynamiquement. | Aucune | Doit √™tre un JSON valide ‚Äî aucun commentaire. |
| 20 | `sgc-agentone/core/templates/sqlite/schema.sql` | Template SQL | Mod√®le de cr√©ation de table. | Variable : `{{TABLE_NAME}}`. Toujours inclure `IF NOT EXISTS` et `PRIMARY KEY AUTOINCREMENT`. | Aucune | G√©n√©rer le SQL complet avec les colonnes demand√©es. |
| 21 | `sgc-agentone/extensions/vscode/src/webview/theme/colors.css` | CSS | **Palette HSL et variables CSS du th√®me SGC-Commander** | Copier **exactement** le contenu ci-dessous : |
```css
/* --- Palette HSL SGC-Commander --- */
:root {
  --background: hsl(222, 84%, 5%);
  --foreground: hsl(210, 40%, 95%);
  --card: hsl(215, 28%, 17%);
  --primary: hsl(188, 95%, 42%);
  --secondary: hsl(215, 16%, 25%);
  --accent: hsl(188, 95%, 42%);
  --border: hsl(217, 19%, 20%);
  --muted-foreground: hsl(217, 10%, 58%);
}

/* --- Effets Claymorphism --- */
.clay-panel {
  background: linear-gradient(145deg, hsl(215, 28%, 19%), hsl(215, 28%, 15%));
  box-shadow:
    8px 8px 16px hsl(222, 84%, 2%),
    -8px -8px 16px hsl(215, 28%, 24%),
    inset 1px 1px 2px hsl(215, 28%, 25%);
  border: 1px solid hsl(217, 19%, 20%);
}

.clay-button {
  background: linear-gradient(145deg, hsl(215, 28%, 20%), hsl(215, 28%, 16%));
  box-shadow:
    4px 4px 8px hsl(222, 84%, 2%),
    -4px -4px 8px hsl(215, 28%, 24%);
  border: 1px solid hsl(217, 19%, 22%);
  transition: all 0.2s ease;
}

.clay-button:hover {
  background: linear-gradient(145deg, hsl(215, 28%, 22%), hsl(215, 28%, 18%));
  box-shadow:
    2px 2px 4px hsl(222, 84%, 2%),
    -2px -2px 4px hsl(215, 28%, 26%);
}

.clay-button:active {
  background: linear-gradient(145deg, hsl(215, 28%, 16%), hsl(215, 28%, 20%));
  box-shadow:
    inset 2px 2px 4px hsl(222, 84%, 2%),
    inset -2px -2px 4px hsl(215, 28%, 26%);
}

.clay-button.active {
  background: linear-gradient(145deg, hsl(188, 95%, 42%), hsl(188, 95%, 38%));
  color: hsl(222, 84%, 5%);
  box-shadow:
    inset 2px 2px 4px hsl(188, 95%, 30%),
    inset -2px -2px 4px hsl(188, 95%, 50%);
}

/* --- Animations fluides --- */
* {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* --- Responsive mobile --- */
@media (max-width: 768px) {
  .hidden-sm-inline { display: none; }
  .color-picker { width: 40px; height: 40px; }
}
```
| Aucune | Ce fichier est **central** ‚Äî il d√©finit tout le style visuel. Il doit √™tre charg√© en premier dans `chat.html`. |
| 22 | `sgc-agentone/extensions/vscode/src/webview/theme/fonts.css` | CSS | **Typographie SGC-Commander** | Copier **exactement** le contenu ci-dessous : |
```css
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap');

body {
  font-family: 'Inter', sans-serif;
  font-feature-settings: "liga" 1;
  text-rendering: optimizeLegibility;
}

.code-editor {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.9rem;
  line-height: 1.5;
}
```
| Aucune | Charger cette feuille **avant** tout autre CSS. |
| 23 | `sgc-agentone/extensions/vscode/src/webview/theme/icons.css` | CSS | **Style des ic√¥nes FontAwesome** | Int√©grer via CDN dans `chat.html` : |
```html
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
```
| Aucune | Le CDN est autoris√© ici car c‚Äôest une ressource statique publique. L‚ÄôIA doit **l‚Äôinclure directement dans `chat.html`**. |
| 24 | `sgc-agentone/extensions/vscode/src/webview/theme/syntax.css` | CSS | **Coloration syntaxique personnalis√©e** | Copier **exactement** le contenu ci-dessous : |
```css
.syntax-php { color: hsl(262, 90%, 75%); }     /* Violet */
.syntax-html { color: hsl(17, 100%, 74%); }    /* Orange */
.syntax-string { color: hsl(113, 54%, 73%); }  /* Vert */
.syntax-comment { 
  color: hsl(217, 10%, 58%); 
  font-style: italic; 
}
.syntax-keyword { color: hsl(310, 100%, 75%); } /* Magenta */
.syntax-number { color: hsl(188, 95%, 76%); }  /* Cyan */
```
| Aucune | Appliquer ces classes aux blocs de code dans les messages chat (`<pre><code class="syntax-php">`). |
| 25 | `sgc-agentone/extensions/vscode/src/webview/chat.html` | HTML | Interface chat c√¥t√© client (VS Code) ‚Äî **int√©gration compl√®te du th√®me** | Structure HTML : |
```html
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SGC-AgentOne Chat</title>
  <!-- Fonts -->
  <link rel="stylesheet" href="theme/fonts.css">
  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <!-- Theme -->
  <link rel="stylesheet" href="theme/colors.css">
  <link rel="stylesheet" href="theme/syntax.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      background: var(--background);
      color: var(--foreground);
      height: 100vh;
      display: flex;
      flex-direction: column;
      font-family: 'Inter', sans-serif;
    }

    .header {
      display: flex;
      align-items: center;
      height: 48px;
      padding: 0 1rem;
      background: var(--card);
      border-bottom: 1px solid var(--border);
      justify-content: space-between;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-weight: 600;
      color: var(--primary);
    }

    .nav-buttons {
      display: flex;
      gap: 0.5rem;
    }

    .nav-button {
      background: transparent;
      border: none;
      cursor: pointer;
      color: var(--foreground);
      padding: 0.5rem;
      border-radius: 6px;
      transition: all 0.2s;
    }

    .nav-button:hover {
      background: var(--secondary)/20%;
    }

    .nav-button.active {
      background: var(--primary)/20%;
      color: var(--primary);
    }

    .badge {
      background: var(--primary)/20%;
      color: var(--primary);
      padding: 0.2rem 0.6rem;
      border-radius: 12px;
      font-size: 0.75rem;
      font-weight: 500;
    }

    .chat-container {
      flex: 1;
      padding: 1rem;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .message {
      max-width: 80%;
      padding: 0.8rem;
      border-radius: 12px;
      font-size: 0.95rem;
      line-height: 1.5;
    }

    .user-message {
      align-self: flex-end;
      background: var(--secondary)/50%;
      color: var(--foreground);
    }

    .ai-message {
      align-self: flex-start;
      background: var(--card);
      box-shadow: 4px 4px 8px hsl(222, 84%, 2%), -4px -4px 8px hsl(215, 28%, 24%);
      border: 1px solid var(--border);
    }

    .avatar {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      margin-right: 0.5rem;
      font-size: 0.8rem;
    }

    .user-avatar {
      background: var(--primary);
      color: white;
    }

    .ai-avatar {
      background: var(--accent);
      color: white;
    }

    .input-area {
      display: flex;
      gap: 0.5rem;
      padding: 0.8rem;
      border-top: 1px solid var(--border);
      background: var(--card);
    }

    .input-field {
      flex: 1;
      padding: 0.7rem;
      border: none;
      border-radius: 12px;
      background: var(--background);
      color: var(--foreground);
      font-family: 'Inter', sans-serif;
      outline: none;
    }

    .send-btn {
      background: var(--primary);
      color: hsl(222, 84%, 5%);
      border: none;
      border-radius: 12px;
      padding: 0.7rem;
      cursor: pointer;
      font-size: 1rem;
      transition: all 0.2s;
    }

    .send-btn:hover {
      background: hsl(188, 95%, 38%);
    }

    .status-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.5rem 1rem;
      font-size: 0.8rem;
      color: var(--muted-foreground);
      background: var(--card);
      border-top: 1px solid var(--border);
    }

    .status-indicator {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      margin-left: 0.5rem;
    }

    .status-online { background: hsl(142, 70%, 50%); }
    .status-offline { background: hsl(0, 70%, 50%); }

    /* Panel transitions */
    .panel-collapsed { transform: translateX(-100%); }
    .panel-expanded { transform: translateX(0); }
    .panel-right-collapsed { transform: translateX(100%); }
    .panel-right-expanded { transform: translateX(0); }

    /* Resize handle */
    .resize-handle {
      width: 4px;
      background: transparent;
      cursor: col-resize;
      position: relative;
      transition: background 0.2s ease;
    }

    .resize-handle:hover {
      background: var(--primary);
    }

    .resize-handle::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 2px;
      height: 20px;
      background: var(--muted-foreground);
      border-radius: 1px;
    }

    @media (pointer: coarse) {
      .resize-handle { width: 12px; }
    }

    /* Mobile responsive */
    @media (max-width: 768px) {
      .header, .input-area, .status-bar { padding: 0.5rem; }
      .message { max-width: 90%; }
      .nav-buttons { display: none; }
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="logo">
      <i class="fas fa-robot"></i>
      SGC-AgentOne
    </div>
    <div class="nav-buttons">
      <button class="nav-button" id="btn-explorer"><i class="fas fa-folder-tree"></i></button>
      <button class="nav-button active" id="btn-chat"><i class="fas fa-comments"></i></button>
      <button class="nav-button" id="btn-server"><i class="fas fa-server"></i></button>
      <button class="nav-button" id="btn-browser"><i class="fas fa-globe"></i></button>
      <span class="badge">IDE PHP Intelligent</span>
    </div>
    <div class="color-pickers">
      <input type="color" class="color-picker" value="#2e86ff" title="Primary" id="color-primary">
      <input type="color" class="color-picker" value="#2e86ff" title="Accent" id="color-accent">
    </div>
  </div>

  <div class="chat-container" id="chat-container">
    <!-- Messages dynamically inserted here -->
  </div>

  <div class="input-area">
    <input type="text" class="input-field" id="input-message" placeholder="Demandez √† SGC-AgentOne...">
    <button class="send-btn" id="btn-send"><i class="fas fa-paper-plane"></i></button>
  </div>

  <div class="status-bar">
    <span>PHP 8.2 ‚Ä¢ UTF-8 ‚Ä¢ Line 1, Col 1</span>
    <span>Status: <span class="status-indicator status-online"></span></span>
  </div>

  <script src="chat.js"></script>
</body>
</html>
```
| Aucune | Toutes les classes CSS sont compatibles avec `colors.css`. Les ic√¥nes utilisent FontAwesome via CDN. La barre de statut affiche l‚Äô√©tat du serveur. |
| 26 | `sgc-agentone/extensions/vscode/src/webview/chat.js` | JavaScript | Logique du chat c√¥t√© client ‚Äî **int√©gration compl√®te du th√®me et des interactions** | Comportement : |
```javascript
// --- Initialisation ---
const chatContainer = document.getElementById('chat-container');
const inputField = document.getElementById('input-message');
const sendBtn = document.getElementById('btn-send');
const statusIndicator = document.querySelector('.status-indicator');

// --- Fonction d'envoi ---
async function sendMessage() {
  const message = inputField.value.trim();
  if (!message) return;

  // Afficher le message utilisateur
  appendMessage(message, 'user');

  // R√©initialiser champ
  inputField.value = '';

  // Envoyer √† l'agent
  const response = await fetch('http://localhost:8081/api/chat', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ message, projectPath: '.', blind: false })
  });

  const data = await response.json();

  // Afficher la r√©ponse
  appendMessage(data.response, 'ai', data.actions);

  // Rafra√Æchir l'explorateur si besoin
  if (data.actions && data.actions.length > 0) {
    vscode.postMessage({ command: 'refreshExplorer' });
  }
}

function appendMessage(text, sender, actions = []) {
  const msgDiv = document.createElement('div');
  msgDiv.className = `message ${sender}-message`;

  // Avatar
  const avatar = document.createElement('div');
  avatar.className = `avatar ${sender}-avatar`;
  avatar.innerHTML = sender === 'user' ? '<i class="fas fa-user"></i>' : '<i class="fas fa-robot"></i>';

  // Contenu
  const content = document.createElement('div');
  content.innerHTML = text.replace(/\n/g, '<br>');

  // Appliquer coloration syntaxique si pr√©sent
  const codeBlocks = content.querySelectorAll('pre code');
  codeBlocks.forEach(block => {
    const lang = block.className.match(/syntax-(\w+)/)?.[1];
    if (lang) block.classList.add(`syntax-${lang}`);
  });

  msgDiv.appendChild(avatar);
  msgDiv.appendChild(content);

  // Ajouter les actions sous forme de badge
  if (actions && actions.length > 0) {
    const actionBadge = document.createElement('small');
    actionBadge.style.display = 'block';
    actionBadge.style.marginTop = '0.5rem';
    actionBadge.style.color = 'var(--primary)';
    actionBadge.innerHTML = actions.map(a => `<span style="margin-right: 0.3rem;">${a.type} ${a.file}</span>`).join('');
    msgDiv.appendChild(actionBadge);
  }

  chatContainer.appendChild(msgDiv);
  chatContainer.scrollTop = chatContainer.scrollHeight;
}

// --- √âv√©nements ---
sendBtn.addEventListener('click', sendMessage);
inputField.addEventListener('keypress', (e) => {
  if (e.key === 'Enter') sendMessage();
});

// --- ColorPickers ---
document.getElementById('color-primary').addEventListener('input', (e) => {
  document.documentElement.style.setProperty('--primary', e.target.value);
  document.documentElement.style.setProperty('--accent', e.target.value);
});
document.getElementById('color-accent').addEventListener('input', (e) => {
  document.documentElement.style.setProperty('--accent', e.target.value);
});

// --- Communication avec VS Code ---
window.addEventListener('message', event => {
  const message = event.data;
  if (message.command === 'serverStatus') {
    statusIndicator.className = `status-indicator ${message.status === 'online' ? 'status-online' : 'status-offline'}`;
  }
});
```
| Aucune | Utilise `vscode.postMessage()` pour communiquer avec l‚Äôextension. Met √† jour l‚Äôic√¥ne de statut en temps r√©el. |
| 27 | `sgc-agentone/extensions/vscode/src/extension.ts` | TypeScript | Module principal de l‚Äôextension VS Code ‚Äî **int√®gre le th√®me et g√®re les √©v√©nements** | Comportement : |
```typescript
import * as vscode from 'vscode';

export function activate(context: vscode.ExtensionContext) {
  const panel = vscode.window.createWebviewPanel(
    'sgcAgentOneChat',
    'SGC-AgentOne',
    vscode.ViewColumn.Two,
    {
      enableScripts: true,
      retainContextWhenHidden: true,
      localResourceRoots: [vscode.Uri.file(context.extensionPath)]
    }
  );

  const themePath = vscode.Uri.joinPath(context.extensionUri, 'src', 'webview', 'theme');
  panel.webview.html = getWebViewContent(themePath);

  // √âcoute les messages du webview
  panel.webview.onDidReceiveMessage(message => {
    if (message.command === 'refreshExplorer') {
      vscode.commands.executeCommand('workbench.files.action.refreshFilesExplorer');
    }
  });

  // Envoi l'√©tat du serveur au webview
  setInterval(() => {
    const status = isServerRunning() ? 'online' : 'offline';
    panel.webview.postMessage({ command: 'serverStatus', status });
  }, 2000);
}

function getWebViewContent(themePath: vscode.Uri): string {
  const htmlPath = vscode.Uri.joinPath(themePath, 'chat.html');
  let html = vscode.workspace.fs.readFile(htmlPath).then(buffer => buffer.toString());

  // Remplacer les chemins locaux pour le webview
  return html.then(content => content.replace(/href="theme\//g, `href="${themePath.with({ scheme: 'vscode-resource' }).toString()}/`));
}

function isServerRunning(): boolean {
  // Impl√©menter une logique de ping vers localhost:8081
  return true; // √Ä remplacer par une vraie v√©rification
}
```
| Aucune | Le webview charge les ressources locales via `vscode-resource`. Le statut serveur est envoy√© toutes les 2 secondes. |

---

## üö´ Interdictions Absolues

- ‚ùå Aucun chemin absolu (`/home/`, `C:\`, `C:\Users\...`)
- ‚ùå Aucune d√©pendance externe (Composer, npm, Docker, cloud)
- ‚ùå Aucun `exec()`, `system()`, `shell_exec()`
- ‚ùå Aucune √©criture hors du dossier projet racine
- ‚ùå Aucune modification manuelle du fichier `enabled.txt`
- ‚ùå Aucune connexion r√©seau vers un domaine externe (sauf **FontAwesome CDN autoris√©**)
- ‚ùå Aucune modification du th√®me SGC-Commander ‚Äî **copie identique exig√©e**

---

## ‚úÖ Conditions de g√©n√©ration par l‚ÄôIA

1. Le dossier racine du projet doit √™tre `.`.
2. Tous les fichiers doivent √™tre cr√©√©s **exactement** dans les chemins indiqu√©s.
3. Les templates doivent √™tre **remplac√©s dynamiquement** selon les prompts (ex: `{{TABLE_NAME}}`).
4. Le mode `Blind-Exec` doit √™tre **d√©sactiv√© par d√©faut** (`enabled.txt = "false"`).
5. Le th√®me **SGC-Commander doit √™tre int√©gr√© EXACTEMENT** tel que d√©crit ‚Äî **aucune personnalisation permise**.
6. Les ic√¥nes **FontAwesome** doivent √™tre charg√©es **via CDN** dans `chat.html`.
7. La base `app.db` doit √™tre cr√©√©e **automatiquement** si absente.
8. L‚ÄôIA ne doit pas ajouter de fonctionnalit√©s non list√©es ici.

---

## üí° Finalit√©

Cette sp√©cification est la **source unique de v√©rit√©**.  
Tout ce qui est g√©n√©r√© doit respecter strictement ces 27 fichiers et leurs r√®gles.  
Aucune interpr√©tation personnelle n‚Äôest autoris√©e.  
**La solution doit √™tre autonome, locale, transparente, enti√®rement contr√¥l√©e ‚Äî et visuellement magnifique.**

> **SGC-AgentOne devient un IDE PHP intelligent ‚Äî pas un outil. Un compagnon. Avec une √¢me.**